<div class="my-6 flex items-center justify-center w-7/12 mx-auto">
    <div class="button dark:border-white" (click)="openForm(kind.ProseContent)">
        <rmx-icon name="book-open-line"></rmx-icon>
        <div class="separator">|</div>
        <h3>Create Prose</h3>
    </div>
    <div class="button dark:border-white" (click)="openForm(kind.PoetryContent)">
        <rmx-icon name="quill-pen-line"></rmx-icon>
        <div class="separator">|</div>
        <h3>Create Poetry</h3>
    </div>
</div>

<div class="w-7/12 mt-6 mx-auto flex items-center justify-center py-2 border-t border-b border-gray-600 dark:border-white">
    <button [ngClass]="{'active': selectedTab === tabs.Published}" (click)="changeTab(tabs.Published)">
        <rmx-icon name="check-line"></rmx-icon>
        <span>Published</span>
    </button>
    <div class="mx-0.5"></div>
    <button [ngClass]="{'active': selectedTab === tabs.Unpublished}" (click)="changeTab(tabs.Unpublished)">
        <rmx-icon name="draft-line"></rmx-icon>
        <span>Drafts</span>
    </button>
    <div class="mx-0.5"></div>
    <button [ngClass]="{'active': selectedTab === tabs.Scheduled}" (click)="changeTab(tabs.Scheduled)">
        <rmx-icon name="time-line"></rmx-icon>
        <span>Scheduled</span>
    </button>
</div>
<ng-container *ngIf="profileQuery.loading$ | async; else notLoading">
    <div class="flex flex-col items-center justify-center h-72">
        <mat-spinner></mat-spinner>
    </div>
</ng-container>
<ng-template #notLoading>
    <ng-container [ngSwitch]="selectedTab">
        <ng-container *ngSwitchCase="tabs.Published">
            <ng-container *ngIf="profileQuery.numPubWorks === 0; else hasPubBlogs">
                <div class="empty">
                    <h3>You haven't posted anything yet</h3>
                    <p>Why not add something to start off?</p>
                </div>
            </ng-container>
            <ng-template #hasPubBlogs>
                <div class="grid grid-cols-2 gap-4 w-7/12 mx-auto my-6" *ngIf="profileQuery.pubWorks$ | async as publishedBlogs">
                    <ng-container *ngFor="let blog of publishedBlogs">
                        <dragonfish-work-card [content]="blog"></dragonfish-work-card>
                    </ng-container>
                </div>
            </ng-template>
        </ng-container>
        <ng-container *ngSwitchCase="tabs.Unpublished">
            <ng-container *ngIf="profileQuery.numDraftWorks === 0; else hasDraftBlogs">
                <div class="empty">
                    <h3>You haven't saved any drafts yet</h3>
                    <p>Why not add something to start off?</p>
                </div>
            </ng-container>
            <ng-template #hasDraftBlogs>
                <div class="grid grid-cols-2 gap-4 w-7/12 mx-auto my-6" *ngIf="profileQuery.draftWorks$ | async as draftWorks">
                    <ng-container *ngFor="let work of draftWorks">
                        <dragonfish-work-card [content]="work"></dragonfish-work-card>
                    </ng-container>
                </div>
            </ng-template>
        </ng-container>
        <ng-container *ngSwitchCase="tabs.Scheduled">
            <div class="empty">
                <h3>Pardon the dustâ€”</h3>
                <p>This feature will be available in a later update.</p>
            </div>
        </ng-container>
    </ng-container>
</ng-template>

<ng-container *ngIf="auth.checkPseudonym(profile.profileId)">
    <div class="w-7/12 rounded-md mx-auto my-6 p-4 border border-gray-600 dark:border-white flex items-center">
        <rmx-icon name="information-line" class="mr-2"></rmx-icon>
        <div>
            This page only shows <strong>public</strong> bookshelves. To see all your bookshelves, and make any changes, head over to My Library!
        </div>
    </div>
</ng-container>

<ng-container *ngIf="profileShelves.shelves$ | async as shelves">
    <ng-container *ngIf="shelves.length === 0; else hasShelves">
        <div class="empty">
            <h3>There's nothing here yet...</h3>
            <p>Check back when a bookshelf has been made public!</p>
        </div>
    </ng-container>
    <ng-template #hasShelves>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 w-11/12 mx-auto gap-2 my-6">
            <div
                class="shelf-box border-gray-600 dark:border-white"
                *ngFor="let shelf of shelves"
                (click)="goToShelf(shelf._id)"
            >
                <div class="h-24 w-24 flex flex-col items-center justify-center border-4 rounded-md mr-4">
                    <rmx-icon name="bar-chart-2-fill"></rmx-icon>
                </div>
                <div class="flex-1">
                    <h3 class="text-xl font-medium overflow-ellipsis overflow-hidden whitespace-nowrap">{{ shelf.name }}</h3>
                    <div class="text-sm">
                        {{ shelf.desc }}
                    </div>
                    <div class="flex items-center">
                        <span class="italic text-xs">{{ shelf.createdAt | localedate:'mediumDate' }}</span>
                        <span class="text-base mr-1 ml-1.5 relative -top-0.5">â€¢</span>
                        <span class="italic text-xs">{{ shelf.works | abbreviate }} work{{ shelf.works | pluralize }}</span>
                    </div>
                </div>
            </div>
        </div>
    </ng-template>
</ng-container>

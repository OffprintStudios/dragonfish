<div class="flex h-screen w-full">
    <dragonfish-pagebar>
        <div class="page-header">
            <h3>My Library</h3>
        </div>
        <div class="pages">
            <a class="link" (click)='setTitle()' [routerLink]="['/my-library']" [routerLinkActive]="'active'" [routerLinkActiveOptions]="{ exact: true }">
                <span class="link-icon"><rmx-icon name="book-open-line"></rmx-icon></span>
                Prose & Poetry
            </a>
            <a class="link" [routerLink]="['favorite-blogs']" [routerLinkActive]="'active'">
                <span class="link-icon"><rmx-icon name="heart-line"></rmx-icon></span>
                Favorite Blogs
            </a>
            <a class="link" [routerLink]="['read-it-later']" [routerLinkActive]="'active'">
                <span class="link-icon"><rmx-icon name="arrow-right-circle-line"></rmx-icon></span>
                Read It Later
            </a>
            <a class="link" [routerLink]="['finished-works']" [routerLinkActive]="'active'">
                <span class="link-icon"><rmx-icon name="book-mark-line"></rmx-icon></span>
                Finished Works
            </a>
            <a class="link" [routerLink]="['reading-history']" [routerLinkActive]="'active'">
                <span class="link-icon"><rmx-icon name="history-line"></rmx-icon></span>
                Reading History
            </a>
            <div class="w-full mb-4 mt-2"></div>
            <h5 class="flex items-center text-white text-lg font-medium mb-2">
                <span class="relative top-1">Bookshelves</span>
            </h5>
            <ng-container *ngIf="shelves.shelves$ | async as bookshelves">
                <ng-container *ngFor="let shelf of bookshelves">
                    <a
                        class="link overflow-ellipsis overflow-hidden whitespace-nowrap"
                        [routerLink]="['bookshelf', shelf._id]"
                        [routerLinkActive]="'active'"
                    >
                        <span class="link-icon"><rmx-icon name="bar-chart-fill"></rmx-icon></span>
                        {{ shelf.name }}
                    </a>
                </ng-container>
            </ng-container>
            <ng-container *ngIf="formIsOpen; else notOpen">
                <form [formGroup]="bookshelfForm" (ngSubmit)="submitForm()" class="w-full">
                    <input
                        [type]="'text'"
                        [placeholder]="'Bookshelf name'"
                        [formControlName]="'name'"
                        class="rounded-md mb-2 border-white w-full placeholder-white focus:ring-0 focus:border-white text-sm"
                        style="background: var(--accent-light);"
                    >
                </form>
                <div class="flex items-center">
                    <a class="link justify-center" (click)="toggleForm()">
                        <span class="link-icon"><rmx-icon name="close-line"></rmx-icon></span>
                        Cancel
                    </a>
                    <div class="mx-0.5"></div>
                    <a class="link justify-center" (click)="submitForm()">
                        <span class="link-icon"><rmx-icon name="check-line"></rmx-icon></span>
                        Submit
                    </a>
                </div>
            </ng-container>
            <ng-template #notOpen>
                <a class="link" (click)="toggleForm()">
                    <span class="link-icon"><rmx-icon name="add-box-line"></rmx-icon></span>
                    New Bookshelf
                </a>
            </ng-template>
        </div>
    </dragonfish-pagebar>

    <div class="w-full h-screen overflow-y-auto">
        <router-outlet></router-outlet>
    </div>
</div>

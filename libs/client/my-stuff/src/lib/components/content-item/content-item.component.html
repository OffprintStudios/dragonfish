<div
    class="content-box"
    (clickOutside)="deselect()"
    [exclude]="'.content-box'"
    (click)="setCurrContent()"
    (dblclick)="view()"
    [ngClass]="{ selected: selected }"
    [contextMenuTrigger]="menu"
    [menuContext]="content"
    (menuAction)="setCurrContent()"
>
    <div class="content-description">
        <ng-container [ngSwitch]="content.kind">
            <rmx-icon
                *ngSwitchCase="contentKind.BlogContent"
                name="cup-line"
                [matTooltip]="'Blog'"
                [matTooltipClass]="'offprint-tooltip'"
            ></rmx-icon>
            <rmx-icon
                *ngSwitchCase="contentKind.PoetryContent"
                name="quill-pen-line"
                [matTooltip]="'Poetry'"
                [matTooltipClass]="'offprint-tooltip'"
            ></rmx-icon>
            <rmx-icon
                *ngSwitchCase="contentKind.ProseContent"
                name="book-open-line"
                [matTooltip]="'Prose'"
                [matTooltipClass]="'offprint-tooltip'"
            ></rmx-icon>
            <rmx-icon
                *ngSwitchCase="contentKind.NewsContent"
                name="global-line"
                [matTooltip]="'News'"
                [matTooltipClass]="'offprint-tooltip'"
            ></rmx-icon>
        </ng-container>
        <h5>{{ content.title }}</h5>
    </div>
    <div class="content-preview">
        <div class="html-description" [innerHtml]="content.body | safeHtml"></div>
    </div>
    <div class="content-stats">
        <span class="stat-block" [matTooltip]="'Views'" [matTooltipClass]="'offprint-tooltip'">
            <rmx-icon class="stat-icon" name="eye-line"></rmx-icon>{{ content.stats.views | abbreviate }}
        </span>
        <span class="stat-divider">|</span>
        <span class="stat-block" [matTooltip]="'Comments'" [matTooltipClass]="'offprint-tooltip'">
            <rmx-icon class="stat-icon" name="chat-3-line"></rmx-icon>{{ content.stats.comments | abbreviate }}
        </span>
        <span class="stat-divider">|</span>
        <span class="stat-block" [matTooltip]="'Likes'" [matTooltipClass]="'offprint-tooltip'">
            <rmx-icon class="stat-icon" name="heart-line"></rmx-icon>{{ content.stats.likes | abbreviate }}
        </span>
        <span class="stat-divider">|</span>
        <span class="stat-block" [matTooltip]="'Dislikes'" [matTooltipClass]="'offprint-tooltip'">
            <rmx-icon class="stat-icon" name="dislike-line"></rmx-icon>{{ content.stats.dislikes | abbreviate }}
        </span>
        <span class="stat-divider">|</span>
        <ng-container [ngSwitch]="content.audit.published">
            <span
                *ngSwitchCase="pubStatus.Published"
                class="stat-block"
                [matTooltip]="'Published'"
                [matTooltipClass]="'offprint-tooltip'"
            >
                <rmx-icon class="stat-icon" name="checkbox-circle-line"></rmx-icon>
            </span>
            <span
                *ngSwitchCase="pubStatus.Unpublished"
                class="stat-block"
                [matTooltip]="'Unpublished'"
                [matTooltipClass]="'offprint-tooltip'"
            >
                <rmx-icon class="stat-icon" name="checkbox-blank-circle-line"></rmx-icon>
            </span>
            <span
                *ngSwitchCase="pubStatus.Pending"
                class="stat-block"
                [matTooltip]="'Pending'"
                [matTooltipClass]="'offprint-tooltip'"
            >
                <rmx-icon class="stat-icon" name="time-line"></rmx-icon>
            </span>
            <span
                *ngSwitchCase="pubStatus.Rejected"
                class="stat-block"
                [matTooltip]="'Rejected'"
                [matTooltipClass]="'offprint-tooltip'"
            >
                <rmx-icon class="stat-icon" name="close-circle-line"></rmx-icon>
            </span>
            <span
                *ngSwitchCase="pubStatus.ApprovedUnpublished"
                class="stat-block"
                [matTooltip]="'Approved (Unpublished)'"
                [matTooltipClass]="'offprint-tooltip'"
            >
                <rmx-icon class="stat-icon" name="checkbox-blank-circle-line"></rmx-icon>
            </span>
        </ng-container>
    </div>
</div>

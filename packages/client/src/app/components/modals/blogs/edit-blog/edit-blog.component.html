<div class="edit-blog-modal">
    <div class="edit-blog-header">
        <h1>Editing: "{{ blogData.title }}"</h1>
    </div>
    <div class="edit-blog-form">
        <form [formGroup]="editBlogForm" (ngSubmit)="submitEdits(blogData._id)">
            <label for="title">Title:</label>
            <div class="warning-message" *ngIf="fields.title.invalid && (fields.title.dirty || fields.title.touched)">Titles must be between 3 and 100 characters.</div>
            <input name="title" type="text" class="u-full-width" formControlName="title">
                
            <label for="body">Body:</label>
            <div class="warning-message" *ngIf="fields.body.invalid && (fields.body.dirty || fields.body.touched)">Body text must be more than 3 characters.</div>
            <ngContainer *ngIf="!blogData.usesFroala">
                <quill-pulp-fiction-editor [parentForm]="editBlogForm" [controlName]="'body'" [minLength]="3" [height]="'300px'"></quill-pulp-fiction-editor>
            </ngContainer>
            <ngContainer *ngIf="blogData.usesFroala">
                <froala-pulp-fiction-editor formControlName="body"></froala-pulp-fiction-editor>
            </ngContainer>
        
            <label>
                <input type="checkbox" formControlName="published">
                <span class="label-body">Publish Now</span>
            </label>
        
            <p>
                NOTE: All unpublished work is submitted as a draft. You can publish a blog&mdash;or revoke it&mdash;at any time.
            </p>
        
            <div class="loader" *ngIf="loading">
                <div class="lds-dual-ring"></div>
            </div>
            <button type="submit" class="button-primary blog-modal-button" *ngIf="!loading">Save Changes</button>
            <button type="button" class="blog-modal-button" (click)="askCancel()">Cancel</button>
        </form>
    </div>
</div>
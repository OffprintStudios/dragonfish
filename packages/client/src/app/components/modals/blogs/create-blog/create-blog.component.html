<div class="new-blog-modal">
    <h1>Create a new blog</h1>
    <hr>
    <form [formGroup]="newBlogForm" (ngSubmit)="submitForm()">
        <label for="title">Title:</label>
        <div class="warning-message" *ngIf="fields.title.invalid && (fields.title.dirty || fields.title.touched)">Titles must be between 3 and 100 characters.</div>
        <input name="title" type="text" class="u-full-width" formControlName="title">
        
        <label for="body">Body:</label>
        <div class="warning-message" *ngIf="fields.body.invalid && (fields.body.dirty || fields.body.touched)">Body text must be more than 3 characters.</div>
        <editor [parentForm]="newBlogForm" controlName="'body'"></editor>

        <label>
            <input type="checkbox" formControlName="published">
            <span class="label-body">Publish Now</span>
        </label>

        <p>
            NOTE: All unpublished work is submitted as a draft. You can publish a blog&mdash;or revoke it&mdash;at any time.
        </p>

        <div class="loader" *ngIf="loading">
            <div class="lds-dual-ring"></div>
        </div>
        <button type="submit" class="blog-modal-button" *ngIf="!loading">Create Blog</button>
        <button type="button" class="blog-modal-button" (click)="askCancel()">Cancel</button>
    </form>
</div>
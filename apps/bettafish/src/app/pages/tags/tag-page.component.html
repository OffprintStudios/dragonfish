<dragonfish-topbar>
    <div class="topbar-header">
        <rmx-icon name="compass-3-line"></rmx-icon>
        <h3>{{ tagId }}</h3>
    </div>
</dragonfish-topbar>

<ng-container *ngIf="tagsQuery.loading$ | async else notLoading">
    <div class="flex flex-row items-center justify-center h-72">
        <mat-spinner></mat-spinner>
    </div>
</ng-container>

<ng-template #notLoading>
    <ng-container *ngIf="tagsQuery.all$ | async as tags">
        <ng-container *ngIf="tags.length === 0; else notEmpty">
            <div class="empty">
                <h3>Looks like there something missing here...</h3>
                <p>If you think this is an error, contact your system administrator.</p>
            </div>
        </ng-container>
        <ng-template #notEmpty>
            <div class="w-8/12 mx-auto my-8">
                <h3>
                    <ng-container *ngIf="tags[0].parent">
                        <a
                            [routerLink]="['/tag', tags[0].parent._id, tags[0].parent.name | slugify]"
                            [innerHtml]="tags[0].parent.name | safeHtml"
                        ></a>
                        &nbsp;â€” 
                    </ng-container>
                    <span [innerHtml]="tags[0].name | safeHtml"></span>
                </h3>
                <p>
                    <span [innerHtml]="tags[0].desc | safeHtml"></span>
                </p>
            </div>
        </ng-template>
    </ng-container>
</ng-template>
